import{c as h,u as k,j as e,B as x,L as C,af as D,d as S,r as j,b as p,I as N,a7 as R}from"./index-D023Ew-Q.js";import{u as P,T as K,a as M,b as g,c as T,f,d as B,e as b,B as A,g as z,h as L,i as V,P as I,j as H,E,C as q}from"./table-skeleton-Bx_1x19y.js";import{S as F,a as G,b as $,c as U,d as W}from"./select-B-I5N_nw.js";import{D as Q,C as J,B as y}from"./index-lV-nIdEi.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=h("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=h("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=h("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=h("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=h("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);function v({table:s}){const[a,t]=k(),r=Number(a.get("limit"))||15,o=Number(a.get("offset"))||0,d=Number(a.get("pages"))||0,m=(o+r)/r<d?(o+r)/r:null,l=(o-r)/r>=0?(o-r)/r:null,u=o/r+1;console.log(l);const c=n=>{t(w=>S(w,{offset:n*r}))};return e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),e.jsxs(F,{value:`${r}`,onValueChange:n=>{t(`limit=${n}`)},children:[e.jsx(G,{className:"h-8 w-[70px]",children:e.jsx($,{placeholder:r})}),e.jsx(U,{side:"top",children:[15,20,30,40,50].map(n=>e.jsx(W,{value:`${n}`,children:n},n))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",u," of ",d]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(x,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>c(0),disabled:l===null||l<0,children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(Z,{className:"h-4 w-4"})]}),e.jsxs(x,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>c(l||0),disabled:l===null||l<0,children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx(C,{className:"h-4 w-4"})]}),e.jsxs(x,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>c(m||0),disabled:!m,children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx(D,{className:"h-4 w-4"})]}),e.jsxs(x,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>c(d-1),disabled:!m,children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx(_,{className:"h-4 w-4"})]})]})]})]})}function le({columns:s,data:a,pagination:t}){var u;const[r,o]=j.useState([]),[d,m]=j.useState([]),l=P({data:a,columns:s,getCoreRowModel:z(),onSortingChange:o,getSortedRowModel:L(),onColumnFiltersChange:m,getFilteredRowModel:V(),state:{sorting:r,columnFilters:d}});return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"max-w-full overflow-x-auto",children:e.jsxs(K,{children:[e.jsx(M,{className:"bg-muted/50 dark:bg-[#1B2222] border-b-0 h-16",children:l.getHeaderGroups().map(c=>e.jsx(g,{className:"relative",children:c.headers.map(n=>e.jsx(T,{className:p(n.column.id==="lr"&&"sticky left-0 bg-muted/50 backdrop-blur-sm"),children:n.isPlaceholder?null:f(n.column.columnDef.header,n.getContext())},n.id))},c.id))}),e.jsx(B,{className:"relative",children:(u=l.getRowModel().rows)!=null&&u.length?l.getRowModel().rows.map(c=>e.jsx(g,{className:"group shadow-sm border-b-0","data-state":c.getIsSelected()&&"selected",children:c.getVisibleCells().map(n=>e.jsx(b,{className:p("dark:text-primary/80 group-hover:text-primary",n.id.endsWith("lr")&&"sticky left-0 z-40 bg-background/20 dark:bg-[#1B2222]/20 backdrop-blur"),children:f(n.column.columnDef.cell,n.getContext())},n.id))},c.id)):e.jsx(g,{children:e.jsx(b,{colSpan:s.length,className:"h-64 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(A,{}),"No results."]})})})})]})}),t!==void 0&&t===!0&&e.jsx("div",{className:"mt-5 p-2 py-4 border-t rounded-b-xl",children:e.jsx(v,{table:l})}),t===void 0&&e.jsx("div",{className:"mt-5 p-2 py-4 border-t rounded-b-xl",children:e.jsx(v,{table:l})})]})}function ee({consignment:s}){const a=N(),t=()=>{a(`/consignments/${s.lr}`)};return e.jsxs("div",{className:"group-hover:opacity-100 opacity-0 flex gap-2 duration-100 transition-opacity mr-2",children:[e.jsx(x,{onClick:t,variant:"ghost",size:"sm",children:e.jsx(I,{size:12,strokeWidth:2})}),e.jsx(Q,{consignmentName:s.lr,lrNumber:s.lr,children:e.jsx(x,{size:"sm",variant:"ghost",children:e.jsx(H,{className:"stroke-rose-500",size:16,strokeWidth:2})})})]})}const ne=[{accessorKey:"lr",header:({column:s})=>e.jsx(i,{column:s,title:"LR #"}),cell:({row:s,table:a})=>{const t=s.getValue("lr"),r=s.original.mode;return e.jsx(R,{to:`/consignments/${t}`,children:e.jsxs("p",{className:"group-hover:text-blue-500 font-medium text-primary/90 transition-colors flex items-center justify-between gap-2 ml-2",children:["#",t,r.toLowerCase()==="forward"?e.jsx("span",{className:"flex text-xs font-medium h-5 w-6 rounded-full capitalize font-sans text-amber-600 dark:text-amber-300  bg-amber-100/50 dark:bg-amber-100/20 items-center justify-center",children:"f"}):e.jsx("span",{className:"flex text-xs font-medium h-5 w-6 rounded-full capitalize font-sans text-fuchsia-500 dark:text-purple-400  bg-purple-100/20 dark:bg-fuchsia-100/20  items-center justify-center",children:"r"})]})})}},{accessorKey:"status",header:({column:s})=>e.jsx(i,{column:s,title:"Status"}),cell:({row:s,table:a})=>{const t=s.getValue("status");return e.jsx(J,{status:t})}},{accessorKey:"lrDate",header:({column:s})=>e.jsx(i,{column:s,title:"LR Date"})},{accessorKey:"deliveryDate",header:({column:s})=>e.jsx(i,{column:s,title:"Delivery Date"})},{accessorKey:"expectedDeliveryDate",header:({column:s})=>e.jsx(i,{column:s,title:"Expected Delivery Date",wrap:!0}),cell:({row:s,cell:a})=>{const t=s.getValue("expectedDeliveryDate"),r=s.original.deliveryDate,o=r?new Date(r).setHours(0,0,0,0):void 0,d=new Date(t).setHours(0,0,0,0),m=new Date().setHours(0,0,0,0);let l="text-orange-500";return o?o>d?l="text-rose-500":l="text-sky-500":(m>d&&(l="text-rose-500"),m<d&&(l="text-green-500")),e.jsxs("p",{className:p("font-medium flex items-center justify-center",l),children:[t," "]})}},{accessorKey:"delayed",header:"Delayed / Notified",cell:({row:s,cell:a})=>{const t=s.original.notified,r=s.original.delayed;return e.jsxs("div",{className:"space-2 justify-center flex flex-wrap gap-2",children:[r&&e.jsx(y,{className:"text-yellow-400 bg-background border-2 border-amber-200 dark:border-amber-200/40",variant:"secondary",children:"delayed"}),t&&e.jsx(y,{className:"text-teal-500 border-teal-400 dark:border-teal-700 border-2 bg-background",variant:"secondary",children:"notified"})]})}},{accessorKey:"consigneeName",header:({column:s})=>e.jsx(i,{column:s,title:"Sender"}),cell:({row:s,table:a,cell:t})=>e.jsx("p",{className:"",children:s.getValue("consigneeName")})},{accessorKey:"consignerName",header:({column:s})=>e.jsx(i,{column:s,title:"Reciever"})},{accessorKey:"vendorName",header:({column:s})=>e.jsx(i,{column:s,title:"Channel Partner",wrap:!0})},{accessorKey:"quantity",header:({column:s})=>e.jsx(i,{column:s,title:"Qty"})},{accessorKey:"weight",header:({column:s})=>e.jsx(i,{column:s,title:"Weight (KG)"})},{id:"actions",header:()=>e.jsx(E,{size:15,className:""}),cell:({row:s,table:a})=>e.jsx(ee,{consignment:s.original})},{accessorKey:"padding",header:"",cell:()=>e.jsx("div",{className:"py-5"})}],i=({title:s,column:a,wrap:t})=>e.jsxs(x,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:[t?e.jsx("p",{className:"w-24 text-wrap text-center",children:s}):s,a.getIsSorted()==="asc"&&e.jsx(Y,{className:"ml-2 h-4 w-4"}),a.getIsSorted()==="desc"&&e.jsx(O,{className:"ml-2 h-4 w-4"}),!a.getIsSorted()&&e.jsx(X,{className:"ml-2 h-3 w-3"})]}),ce=({})=>{const s=N(),a=()=>s("/consignments/add");return e.jsxs(x,{onClick:a,size:"sm",variant:"orange",children:[e.jsx(q,{size:15,className:"mr-2"})," Add Consignment"]})};export{ce as A,le as D,ne as c};
