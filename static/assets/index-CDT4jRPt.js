import{c as me,u as M,r as n,a as Gt,j as s,B as S,b as C,d as R,e as Lt,f as Kt,$ as se,_ as h,g as L,h as $e,i as je,k,l as g,m as ne,n as ce,C as Be,L as Ae,o as zt,p as Bt,q as Ut,s as Vt,t as Yt,v as Ue,R as Xt,w as qt,x as Ht,y as Qt,D as Wt,z as Zt,A as Jt,E as en,F as tn,P as nn,G as on,H as rn}from"./index-DVk1_3TA.js";import{B as sn,C as Ve}from"./index-CgRnk8Co.js";import{A as cn,c as Ge,D as an}from"./add-consignment-btn-B_gRhxZ9.js";import{D as dn}from"./table-skeleton-C5WlC17f.js";import{C as ln,X as V,F as un,Q as fn}from"./query-search-DCVo4ZT0.js";import{S as pn,a as mn,b as $n,c as bn,d as hn,$ as Ye,e as Pe,f as xn,g as gn,h as Xe,i as vn,j as wn,k as qe}from"./select-BJ66us1z.js";import{C as Cn,D as _n,a as En,f as He,S as yn}from"./consignment-status-DfBTQJa5.js";import"./chevrons-right-CimoMIJB.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=me("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=me("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=me("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Pn=["all","in-transit","reached","out-for-delivery","delivered"],Sn=({})=>{const[e,o]=M(),[t,r]=n.useState("all");n.useEffect(()=>{r(e.get("status")||"all")},[e.get("status")]);const{data:c}=Gt(),a=i=>{r(i),o(i==="all"?l=>R(l,{status:null,offset:0}):l=>R(l,{status:i,offset:0}))};return s.jsx("div",{className:"dark:bg-background/40 bg-muted shadow-sm w-fit p-1 rounded-lg hidden md:flex gap-2",children:Pn.map((i,l)=>s.jsxs(S,{onClick:()=>a(i),size:"sm",variant:i===t?"primary":"ghost",className:C("capitalize text-xs font-normal h-6"),children:[i,s.jsx(sn,{variant:"secondary",className:C("ml-2 text-primary/50 rounded-full px-2 py-0",i===t&&"font-bold"),children:c==null?void 0:c.data[i]})]},i+l))})},Dn=({})=>s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-5 text-center z-50 bg-background/20 dark:bg-secondary/90 backdrop-blur-sm",children:[s.jsx(ln,{className:"w-10 h-10 stroke-rose-500",strokeWidth:1}),s.jsxs("h3",{className:"text-xl font-medium text-rose-500",children:["Error fetching consignments",s.jsx("p",{className:"text-sm text-primary/80",children:"Something went wrong."})]})]}),be=({name:e,value:o,onReset:t})=>s.jsxs("div",{className:C("flex relative items-center justify-between h-9 rounded-lg my-5","shadow-sm bg-gray-300/10 border border-input max-w-fit"),children:[s.jsxs("p",{className:"text-xs text-muted-foreground ml-4 capitalize",children:[e,": "]}),s.jsx("p",{className:"text-xs text-primary/80 font-semibold mx-2",children:o}),s.jsx(S,{type:"button",onClick:t,size:"sm",variant:"ghost",className:"rounded-lg",children:s.jsx(V,{className:"w-4 h-4"})})]}),Nn=({})=>{var l;const[e,o]=M(),t=e.get("channelPartner"),r=d=>{o(u=>R(u,d))};function c(){r({channelPartner:null,offset:0})}const{data:a}=Lt(),i=(a==null?void 0:a.data)||[];return t?s.jsx(be,{name:"channel partner",value:((l=i.filter(d=>`${d.id}`===t)[0])==null?void 0:l.name)||"",onReset:c}):null},kn=({})=>{const[e,o]=M(),[t,r]=n.useState(),c=e.get("channelPartner");n.useEffect(()=>{r(c||void 0)},[c]);const a=d=>{o(u=>R(u,d))},i=d=>{r(d),d&&a({channelPartner:d,offset:0})};function l(){a({channelPartner:null,offset:0}),r(void 0)}return s.jsxs("div",{className:C("flex relative items-center justify-between gap-1 h-9 rounded-lg max-w-sm  w-full"),children:[s.jsx(Cn,{onChange:i,value:t||"",placeholder:"Channel Partner"}),t&&s.jsx(S,{type:"button",onClick:l,size:"icon",variant:"ghost",className:"rounded-lg",children:s.jsx(V,{className:"w-4 h-4"})})]})},In=({})=>{var l;const[e,o]=M(),t=e.get("distributor"),r=d=>{o(u=>R(u,d))};function c(){r({distributor:null,offset:0})}const{data:a}=Kt({limit:null,offset:null,search:null}),i=(a==null?void 0:a.data.results)||[];return t?s.jsx(be,{name:"distributor",value:((l=i.filter(d=>`${d.id}`===t)[0])==null?void 0:l.name)||"",onReset:c}):null},Fn=({})=>{const[e,o]=M(),[t,r]=n.useState(),c=e.get("distributor");n.useEffect(()=>{r(c||void 0)},[c]);const a=d=>{o(u=>R(u,d))},i=d=>{r(d),d&&a({distributor:d,offset:0})};function l(){a({distributor:null,offset:0}),r(void 0)}return s.jsxs("div",{className:C("flex relative items-center justify-between gap-1 h-9 rounded-lg max-w-sm  w-full"),children:[s.jsx(_n,{onChange:i,value:t||"",placeholder:"Distributor"}),t&&s.jsx(S,{type:"button",onClick:l,size:"icon",variant:"ghost",className:"rounded-lg",children:s.jsx(V,{className:"w-4 h-4"})})]})},Le=({queryKey:e})=>{const[o,t]=M(),[r,c]=n.useState(),a=o.get(e);n.useEffect(()=>{c(a?new Date(a):void 0)},[a]);const i=u=>{t(m=>R(m,u))},l=u=>{c(u),u&&i({[e]:He(u,"yyyy-MM-dd"),offset:0})};function d(){i({[e]:null,offset:0}),c(void 0)}return s.jsxs("div",{className:"flex relative items-center max-w-sm w-full",children:[s.jsx(En,{onChange:l,value:r,placeholder:e.replace("Date","")}),s.jsx(S,{onClick:d,className:C("absolute opacity-0 -z-10 right-0 transition-opacity",r&&"opacity-100 z-20"),size:"icon",variant:"ghost",children:s.jsx(V,{size:15})})]})},Ke=({queryKey:e})=>{const[o,t]=M(),[r,c]=n.useState(),a=o.get(e);n.useEffect(()=>{c(a?new Date(a):void 0)},[a]);const i=d=>{t(u=>R(u,d))};function l(){i({[e]:null,offset:0}),c(void 0)}return r?s.jsxs("div",{className:"flex relative items-center w-fit my-5",children:[s.jsx("div",{className:"absolute w-full h-full bg-gray-300/10 z-10"}),s.jsxs(S,{variant:"outline",className:C("w-full justify-start pr-10 text-left text-xs font-normal"),children:[s.jsx(Mn,{className:"mr-2 h-4 w-4",strokeWidth:1.2}),e.replace("Date",""),":",s.jsx("span",{className:"font-bold ml-2",children:He(r,"PPP")})]}),s.jsx(S,{onClick:l,className:C("absolute opacity-0 -z-10 right-1 transition-opacity rounded-md px-2",r&&"opacity-100 z-20"),size:"sm",variant:"ghost",children:s.jsx(V,{size:15})})]}):null},Tn=["forward","reverse"],On=({onChange:e,value:o})=>s.jsxs(pn,{onValueChange:e,value:o,children:[s.jsx(mn,{className:"w-full capitalize",children:s.jsx($n,{placeholder:"Select Mode"})}),s.jsx(bn,{children:Tn.map(t=>s.jsx(hn,{className:"capitalize",value:t,children:t},t))})]}),An=({})=>{const[e,o]=M(),[t,r]=n.useState(),c="mode",a=e.get(c);n.useEffect(()=>{r(a||void 0)},[a]);const i=u=>{o(m=>R(m,u))},l=u=>{r(u),u&&i({[c]:u,offset:0})};function d(){i({[c]:null,offset:0}),r(void 0)}return s.jsxs("div",{className:C("flex relative items-center justify-between h-9 rounded-lg max-w-xs  w-full"),children:[s.jsx(On,{onChange:l,value:t||""}),t&&s.jsx(S,{type:"button",onClick:d,size:"sm",variant:"ghost",className:"rounded-lg",children:s.jsx(V,{className:"w-4 h-4"})})]})},Gn=({})=>{const[e,o]=M(),[t,r]=n.useState(),c="status",a=e.get(c);n.useEffect(()=>{r(a||"")},[a]);const i=u=>{o(m=>R(m,u))},l=u=>{r(u),u&&i({[c]:u,offset:0})};function d(){i({[c]:null,offset:0}),r(void 0)}return s.jsxs("div",{className:C("flex relative items-center justify-between h-9 rounded-lg max-w-xs  w-full"),children:[s.jsx(yn,{onChange:l,value:t||""}),t&&s.jsx(S,{type:"button",onClick:d,size:"sm",variant:"ghost",className:"rounded-lg",children:s.jsx(V,{className:"w-4 h-4"})})]})},Ln=({})=>{const[e,o]=M(),t="status",r=e.get(t),c=i=>{o(l=>R(l,i))};function a(){c({[t]:null,offset:0})}if(r)return s.jsx(be,{name:t,value:s.jsx(Ve,{status:r}),onReset:a})},_e="rovingFocusGroup.onEntryFocus",Kn={bubbles:!1,cancelable:!0},Se="RovingFocusGroup",[Ee,We,zn]=Ye(Se),[Bn,he]=se(Se,[zn]),[Un,Vn]=Bn(Se),Yn=n.forwardRef((e,o)=>n.createElement(Ee.Provider,{scope:e.__scopeRovingFocusGroup},n.createElement(Ee.Slot,{scope:e.__scopeRovingFocusGroup},n.createElement(Xn,h({},e,{ref:o}))))),Xn=n.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:c=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,...m}=e,f=n.useRef(null),p=L(o,f),$=Pe(a),[b=null,v]=$e({prop:i,defaultProp:l,onChange:d}),[j,_]=n.useState(!1),E=je(u),I=We(t),F=n.useRef(!1),[q,z]=n.useState(0);return n.useEffect(()=>{const w=f.current;if(w)return w.addEventListener(_e,E),()=>w.removeEventListener(_e,E)},[E]),n.createElement(Un,{scope:t,orientation:r,dir:$,loop:c,currentTabStopId:b,onItemFocus:n.useCallback(w=>v(w),[v]),onItemShiftTab:n.useCallback(()=>_(!0),[]),onFocusableItemAdd:n.useCallback(()=>z(w=>w+1),[]),onFocusableItemRemove:n.useCallback(()=>z(w=>w-1),[])},n.createElement(k.div,h({tabIndex:j||q===0?-1:0,"data-orientation":r},m,{ref:p,style:{outline:"none",...e.style},onMouseDown:g(e.onMouseDown,()=>{F.current=!0}),onFocus:g(e.onFocus,w=>{const H=!F.current;if(w.target===w.currentTarget&&H&&!j){const B=new CustomEvent(_e,Kn);if(w.currentTarget.dispatchEvent(B),!B.defaultPrevented){const A=I().filter(T=>T.focusable),ve=A.find(T=>T.active),Q=A.find(T=>T.id===b),W=[ve,Q,...A].filter(Boolean).map(T=>T.ref.current);Ze(W)}}F.current=!1}),onBlur:g(e.onBlur,()=>_(!1))})))}),qn="RovingFocusGroupItem",Hn=n.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:c=!1,tabStopId:a,...i}=e,l=ne(),d=a||l,u=Vn(qn,t),m=u.currentTabStopId===d,f=We(t),{onFocusableItemAdd:p,onFocusableItemRemove:$}=u;return n.useEffect(()=>{if(r)return p(),()=>$()},[r,p,$]),n.createElement(Ee.ItemSlot,{scope:t,id:d,focusable:r,active:c},n.createElement(k.span,h({tabIndex:m?0:-1,"data-orientation":u.orientation},i,{ref:o,onMouseDown:g(e.onMouseDown,b=>{r?u.onItemFocus(d):b.preventDefault()}),onFocus:g(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:g(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=Zn(b,u.orientation,u.dir);if(v!==void 0){b.preventDefault();let _=f().filter(E=>E.focusable).map(E=>E.ref.current);if(v==="last")_.reverse();else if(v==="prev"||v==="next"){v==="prev"&&_.reverse();const E=_.indexOf(b.currentTarget);_=u.loop?Jn(_,E+1):_.slice(E+1)}setTimeout(()=>Ze(_))}})})))}),Qn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Wn(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Zn(e,o,t){const r=Wn(e.key,t);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Qn[r]}function Ze(e){const o=document.activeElement;for(const t of e)if(t===o||(t.focus(),document.activeElement!==o))return}function Jn(e,o){return e.map((t,r)=>e[(o+r)%e.length])}const Je=Yn,et=Hn,tt="Radio",[eo,nt]=se(tt),[to,no]=eo(tt),oo=n.forwardRef((e,o)=>{const{__scopeRadio:t,name:r,checked:c=!1,required:a,disabled:i,value:l="on",onCheck:d,...u}=e,[m,f]=n.useState(null),p=L(o,v=>f(v)),$=n.useRef(!1),b=m?!!m.closest("form"):!0;return n.createElement(to,{scope:t,checked:c,disabled:i},n.createElement(k.button,h({type:"button",role:"radio","aria-checked":c,"data-state":ot(c),"data-disabled":i?"":void 0,disabled:i,value:l},u,{ref:p,onClick:g(e.onClick,v=>{c||d==null||d(),b&&($.current=v.isPropagationStopped(),$.current||v.stopPropagation())})})),b&&n.createElement(co,{control:m,bubbles:!$.current,name:r,value:l,checked:c,required:a,disabled:i,style:{transform:"translateX(-100%)"}}))}),ro="RadioIndicator",so=n.forwardRef((e,o)=>{const{__scopeRadio:t,forceMount:r,...c}=e,a=no(ro,t);return n.createElement(ce,{present:r||a.checked},n.createElement(k.span,h({"data-state":ot(a.checked),"data-disabled":a.disabled?"":void 0},c,{ref:o})))}),co=e=>{const{control:o,checked:t,bubbles:r=!0,...c}=e,a=n.useRef(null),i=xn(t),l=gn(o);return n.useEffect(()=>{const d=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==t&&f){const p=new Event("click",{bubbles:r});f.call(d,t),d.dispatchEvent(p)}},[i,t,r]),n.createElement("input",h({type:"radio","aria-hidden":!0,defaultChecked:t},c,{tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function ot(e){return e?"checked":"unchecked"}const ao=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rt="RadioGroup",[io,Hr]=se(rt,[he,nt]),st=he(),ct=nt(),[lo,uo]=io(rt),fo=n.forwardRef((e,o)=>{const{__scopeRadioGroup:t,name:r,defaultValue:c,value:a,required:i=!1,disabled:l=!1,orientation:d,dir:u,loop:m=!0,onValueChange:f,...p}=e,$=st(t),b=Pe(u),[v,j]=$e({prop:a,defaultProp:c,onChange:f});return n.createElement(lo,{scope:t,name:r,required:i,disabled:l,value:v,onValueChange:j},n.createElement(Je,h({asChild:!0},$,{orientation:d,dir:b,loop:m}),n.createElement(k.div,h({role:"radiogroup","aria-required":i,"aria-orientation":d,"data-disabled":l?"":void 0,dir:b},p,{ref:o}))))}),po="RadioGroupItem",mo=n.forwardRef((e,o)=>{const{__scopeRadioGroup:t,disabled:r,...c}=e,a=uo(po,t),i=a.disabled||r,l=st(t),d=ct(t),u=n.useRef(null),m=L(o,u),f=a.value===c.value,p=n.useRef(!1);return n.useEffect(()=>{const $=v=>{ao.includes(v.key)&&(p.current=!0)},b=()=>p.current=!1;return document.addEventListener("keydown",$),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",$),document.removeEventListener("keyup",b)}},[]),n.createElement(et,h({asChild:!0},l,{focusable:!i,active:f}),n.createElement(oo,h({disabled:i,required:a.required,checked:f},d,c,{name:a.name,ref:m,onCheck:()=>a.onValueChange(c.value),onKeyDown:g($=>{$.key==="Enter"&&$.preventDefault()}),onFocus:g(c.onFocus,()=>{var $;p.current&&(($=u.current)===null||$===void 0||$.click())})})))}),$o=n.forwardRef((e,o)=>{const{__scopeRadioGroup:t,...r}=e,c=ct(t);return n.createElement(so,h({},c,r,{ref:o}))}),at=fo,it=mo,bo=$o,dt=n.forwardRef(({className:e,...o},t)=>s.jsx(at,{className:C("grid gap-2",e),...o,ref:t}));dt.displayName=at.displayName;const ye=n.forwardRef(({className:e,...o},t)=>s.jsx(it,{ref:t,className:C("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...o,children:s.jsx(bo,{className:"flex items-center justify-center",children:s.jsx(Be,{className:"h-3.5 w-3.5 fill-primary"})})}));ye.displayName=it.displayName;const ho=["passed","failed"],xo=({})=>{const[e,o]=M(),[t,r]=n.useState(),c="tatStatus",a=e.get(c);n.useEffect(()=>{r(a||"")},[a]);const i=d=>{o(u=>R(u,d))},l=d=>{r(d),i({[c]:d,offset:0})};return s.jsx("div",{children:s.jsxs(dt,{value:t,onValueChange:l,className:"w-full max-w-sm gap-0",children:[s.jsxs(Ae,{className:"flex gap-4 items-center cursor-pointer opacity-60 hover:bg-gray-500/10 p-2 rounded-md",children:[s.jsx(ye,{className:"capitalize",value:""}),"All"]}),ho.map(d=>s.jsxs(Ae,{className:"flex gap-4 items-center cursor-pointer hover:bg-gray-500/10 p-2 rounded-md",children:[s.jsx(ye,{className:"capitalize",value:d},d),d]}))]})})},go=({name:e,placeholder:o})=>{const[t,r]=M(),c=t.get(e),a=l=>{r(d=>R(d,l))};function i(){a({[e]:null,offset:0})}if(c)return s.jsx(be,{name:o||e,value:c,onReset:i})},vo=[{label:"TAT Status",name:"tatStatus"},{label:"Mode",name:"mode"}],wo=({})=>{const[e]=M(),o=Array.from(e.entries()).length;return s.jsxs("div",{className:"flex gap-3 flex-wrap items-center px-5",children:[o>3&&s.jsx(Qe,{className:"w-5 h-5 stroke-gray-300 mr-2 my-5"}),s.jsx(Ke,{queryKey:"fromDate"}),s.jsx(Ke,{queryKey:"toDate"}),s.jsx(In,{}),s.jsx(Nn,{}),s.jsx(Ln,{}),vo.map(t=>s.jsx(go,{name:t.name,placeholder:t.label}))]})},Me=["Enter"," "],Co=["ArrowDown","PageUp","Home"],lt=["ArrowUp","PageDown","End"],_o=[...Co,...lt],Eo={ltr:[...Me,"ArrowRight"],rtl:[...Me,"ArrowLeft"]},yo={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xe="Menu",[oe,Mo,Ro]=Ye(xe),[Y,ut]=se(xe,[Ro,Xe,he]),ge=Xe(),ft=he(),[pt,K]=Y(xe),[jo,ae]=Y(xe),Po=e=>{const{__scopeMenu:o,open:t=!1,children:r,dir:c,onOpenChange:a,modal:i=!0}=e,l=ge(o),[d,u]=n.useState(null),m=n.useRef(!1),f=je(a),p=Pe(c);return n.useEffect(()=>{const $=()=>{m.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>m.current=!1;return document.addEventListener("keydown",$,{capture:!0}),()=>{document.removeEventListener("keydown",$,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),n.createElement(qe,l,n.createElement(pt,{scope:o,open:t,onOpenChange:f,content:d,onContentChange:u},n.createElement(jo,{scope:o,onClose:n.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:m,dir:p,modal:i},r)))},mt=n.forwardRef((e,o)=>{const{__scopeMenu:t,...r}=e,c=ge(t);return n.createElement(wn,h({},c,r,{ref:o}))}),$t="MenuPortal",[So,bt]=Y($t,{forceMount:void 0}),Do=e=>{const{__scopeMenu:o,forceMount:t,children:r,container:c}=e,a=K($t,o);return n.createElement(So,{scope:o,forceMount:t},n.createElement(ce,{present:t||a.open},n.createElement(zt,{asChild:!0,container:c},r)))},N="MenuContent",[No,De]=Y(N),ko=n.forwardRef((e,o)=>{const t=bt(N,e.__scopeMenu),{forceMount:r=t.forceMount,...c}=e,a=K(N,e.__scopeMenu),i=ae(N,e.__scopeMenu);return n.createElement(oe.Provider,{scope:e.__scopeMenu},n.createElement(ce,{present:r||a.open},n.createElement(oe.Slot,{scope:e.__scopeMenu},i.modal?n.createElement(Io,h({},c,{ref:o})):n.createElement(Fo,h({},c,{ref:o})))))}),Io=n.forwardRef((e,o)=>{const t=K(N,e.__scopeMenu),r=n.useRef(null),c=L(o,r);return n.useEffect(()=>{const a=r.current;if(a)return Bt(a)},[]),n.createElement(Ne,h({},e,{ref:c,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:g(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)}))}),Fo=n.forwardRef((e,o)=>{const t=K(N,e.__scopeMenu);return n.createElement(Ne,h({},e,{ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)}))}),Ne=n.forwardRef((e,o)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:c,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:p,onDismiss:$,disableOutsideScroll:b,...v}=e,j=K(N,t),_=ae(N,t),E=ge(t),I=ft(t),F=Mo(t),[q,z]=n.useState(null),w=n.useRef(null),H=L(o,w,j.onContentChange),B=n.useRef(0),A=n.useRef(""),ve=n.useRef(0),Q=n.useRef(null),we=n.useRef("right"),W=n.useRef(0),T=b?Xt:n.Fragment,Ot=b?{as:qt,allowPinchZoom:!0}:void 0,At=x=>{var y,D;const U=A.current+x,Z=F().filter(O=>!O.disabled),Ce=document.activeElement,Fe=(y=Z.find(O=>O.ref.current===Ce))===null||y===void 0?void 0:y.textValue,ie=Z.map(O=>O.textValue),J=Zo(ie,U,Fe),Te=(D=Z.find(O=>O.textValue===J))===null||D===void 0?void 0:D.ref.current;(function O(Oe){A.current=Oe,window.clearTimeout(B.current),Oe!==""&&(B.current=window.setTimeout(()=>O(""),1e3))})(U),Te&&setTimeout(()=>Te.focus())};n.useEffect(()=>()=>window.clearTimeout(B.current),[]),Ut();const X=n.useCallback(x=>{var y,D;return we.current===((y=Q.current)===null||y===void 0?void 0:y.side)&&er(x,(D=Q.current)===null||D===void 0?void 0:D.area)},[]);return n.createElement(No,{scope:t,searchRef:A,onItemEnter:n.useCallback(x=>{X(x)&&x.preventDefault()},[X]),onItemLeave:n.useCallback(x=>{var y;X(x)||((y=w.current)===null||y===void 0||y.focus(),z(null))},[X]),onTriggerLeave:n.useCallback(x=>{X(x)&&x.preventDefault()},[X]),pointerGraceTimerRef:ve,onPointerGraceIntentChange:n.useCallback(x=>{Q.current=x},[])},n.createElement(T,Ot,n.createElement(Vt,{asChild:!0,trapped:c,onMountAutoFocus:g(a,x=>{var y;x.preventDefault(),(y=w.current)===null||y===void 0||y.focus()}),onUnmountAutoFocus:i},n.createElement(Yt,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:p,onDismiss:$},n.createElement(Je,h({asChild:!0},I,{dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:q,onCurrentTabStopIdChange:z,onEntryFocus:g(d,x=>{_.isUsingKeyboardRef.current||x.preventDefault()})}),n.createElement(vn,h({role:"menu","aria-orientation":"vertical","data-state":Ct(j.open),"data-radix-menu-content":"",dir:_.dir},E,v,{ref:H,style:{outline:"none",...v.style},onKeyDown:g(v.onKeyDown,x=>{const D=x.target.closest("[data-radix-menu-content]")===x.currentTarget,U=x.ctrlKey||x.altKey||x.metaKey,Z=x.key.length===1;D&&(x.key==="Tab"&&x.preventDefault(),!U&&Z&&At(x.key));const Ce=w.current;if(x.target!==Ce||!_o.includes(x.key))return;x.preventDefault();const ie=F().filter(J=>!J.disabled).map(J=>J.ref.current);lt.includes(x.key)&&ie.reverse(),Qo(ie)}),onBlur:g(e.onBlur,x=>{x.currentTarget.contains(x.target)||(window.clearTimeout(B.current),A.current="")}),onPointerMove:g(e.onPointerMove,re(x=>{const y=x.target,D=W.current!==x.clientX;if(x.currentTarget.contains(y)&&D){const U=x.clientX>W.current?"right":"left";we.current=U,W.current=x.clientX}}))})))))))}),To=n.forwardRef((e,o)=>{const{__scopeMenu:t,...r}=e;return n.createElement(k.div,h({},r,{ref:o}))}),Re="MenuItem",ze="menu.itemSelect",ke=n.forwardRef((e,o)=>{const{disabled:t=!1,onSelect:r,...c}=e,a=n.useRef(null),i=ae(Re,e.__scopeMenu),l=De(Re,e.__scopeMenu),d=L(o,a),u=n.useRef(!1),m=()=>{const f=a.current;if(!t&&f){const p=new CustomEvent(ze,{bubbles:!0,cancelable:!0});f.addEventListener(ze,$=>r==null?void 0:r($),{once:!0}),Ht(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return n.createElement(ht,h({},c,{ref:d,disabled:t,onClick:g(e.onClick,m),onPointerDown:f=>{var p;(p=e.onPointerDown)===null||p===void 0||p.call(e,f),u.current=!0},onPointerUp:g(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)===null||p===void 0||p.click()}),onKeyDown:g(e.onKeyDown,f=>{const p=l.searchRef.current!=="";t||p&&f.key===" "||Me.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),ht=n.forwardRef((e,o)=>{const{__scopeMenu:t,disabled:r=!1,textValue:c,...a}=e,i=De(Re,t),l=ft(t),d=n.useRef(null),u=L(o,d),[m,f]=n.useState(!1),[p,$]=n.useState("");return n.useEffect(()=>{const b=d.current;if(b){var v;$(((v=b.textContent)!==null&&v!==void 0?v:"").trim())}},[a.children]),n.createElement(oe.ItemSlot,{scope:t,disabled:r,textValue:c??p},n.createElement(et,h({asChild:!0},l,{focusable:!r}),n.createElement(k.div,h({role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},a,{ref:u,onPointerMove:g(e.onPointerMove,re(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus())})),onPointerLeave:g(e.onPointerLeave,re(b=>i.onItemLeave(b))),onFocus:g(e.onFocus,()=>f(!0)),onBlur:g(e.onBlur,()=>f(!1))}))))}),Oo=n.forwardRef((e,o)=>{const{checked:t=!1,onCheckedChange:r,...c}=e;return n.createElement(gt,{scope:e.__scopeMenu,checked:t},n.createElement(ke,h({role:"menuitemcheckbox","aria-checked":pe(t)?"mixed":t},c,{ref:o,"data-state":Ie(t),onSelect:g(c.onSelect,()=>r==null?void 0:r(pe(t)?!0:!t),{checkForDefaultPrevented:!1})})))}),Ao="MenuRadioGroup",[Qr,Go]=Y(Ao,{value:void 0,onValueChange:()=>{}}),Lo="MenuRadioItem",Ko=n.forwardRef((e,o)=>{const{value:t,...r}=e,c=Go(Lo,e.__scopeMenu),a=t===c.value;return n.createElement(gt,{scope:e.__scopeMenu,checked:a},n.createElement(ke,h({role:"menuitemradio","aria-checked":a},r,{ref:o,"data-state":Ie(a),onSelect:g(r.onSelect,()=>{var i;return(i=c.onValueChange)===null||i===void 0?void 0:i.call(c,t)},{checkForDefaultPrevented:!1})})))}),xt="MenuItemIndicator",[gt,zo]=Y(xt,{checked:!1}),Bo=n.forwardRef((e,o)=>{const{__scopeMenu:t,forceMount:r,...c}=e,a=zo(xt,t);return n.createElement(ce,{present:r||pe(a.checked)||a.checked===!0},n.createElement(k.span,h({},c,{ref:o,"data-state":Ie(a.checked)})))}),Uo=n.forwardRef((e,o)=>{const{__scopeMenu:t,...r}=e;return n.createElement(k.div,h({role:"separator","aria-orientation":"horizontal"},r,{ref:o}))}),vt="MenuSub",[Vo,wt]=Y(vt),Yo=e=>{const{__scopeMenu:o,children:t,open:r=!1,onOpenChange:c}=e,a=K(vt,o),i=ge(o),[l,d]=n.useState(null),[u,m]=n.useState(null),f=je(c);return n.useEffect(()=>(a.open===!1&&f(!1),()=>f(!1)),[a.open,f]),n.createElement(qe,i,n.createElement(pt,{scope:o,open:r,onOpenChange:f,content:u,onContentChange:m},n.createElement(Vo,{scope:o,contentId:ne(),triggerId:ne(),trigger:l,onTriggerChange:d},t)))},de="MenuSubTrigger",Xo=n.forwardRef((e,o)=>{const t=K(de,e.__scopeMenu),r=ae(de,e.__scopeMenu),c=wt(de,e.__scopeMenu),a=De(de,e.__scopeMenu),i=n.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=a,u={__scopeMenu:e.__scopeMenu},m=n.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return n.useEffect(()=>m,[m]),n.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),d(null)}},[l,d]),n.createElement(mt,h({asChild:!0},u),n.createElement(ht,h({id:c.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":c.contentId,"data-state":Ct(t.open)},e,{ref:Ue(o,c.onTriggerChange),onClick:f=>{var p;(p=e.onClick)===null||p===void 0||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:g(e.onPointerMove,re(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!t.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{t.onOpenChange(!0),m()},100))})),onPointerLeave:g(e.onPointerLeave,re(f=>{var p;m();const $=(p=t.content)===null||p===void 0?void 0:p.getBoundingClientRect();if($){var b;const v=(b=t.content)===null||b===void 0?void 0:b.dataset.side,j=v==="right",_=j?-5:5,E=$[j?"left":"right"],I=$[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:E,y:$.top},{x:I,y:$.top},{x:I,y:$.bottom},{x:E,y:$.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:g(e.onKeyDown,f=>{const p=a.searchRef.current!=="";if(!(e.disabled||p&&f.key===" ")&&Eo[r.dir].includes(f.key)){var $;t.onOpenChange(!0),($=t.content)===null||$===void 0||$.focus(),f.preventDefault()}})})))}),qo="MenuSubContent",Ho=n.forwardRef((e,o)=>{const t=bt(N,e.__scopeMenu),{forceMount:r=t.forceMount,...c}=e,a=K(N,e.__scopeMenu),i=ae(N,e.__scopeMenu),l=wt(qo,e.__scopeMenu),d=n.useRef(null),u=L(o,d);return n.createElement(oe.Provider,{scope:e.__scopeMenu},n.createElement(ce,{present:r||a.open},n.createElement(oe.Slot,{scope:e.__scopeMenu},n.createElement(Ne,h({id:l.contentId,"aria-labelledby":l.triggerId},c,{ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var f;i.isUsingKeyboardRef.current&&((f=d.current)===null||f===void 0||f.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:g(e.onFocusOutside,m=>{m.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:g(e.onEscapeKeyDown,m=>{i.onClose(),m.preventDefault()}),onKeyDown:g(e.onKeyDown,m=>{const f=m.currentTarget.contains(m.target),p=yo[i.dir].includes(m.key);if(f&&p){var $;a.onOpenChange(!1),($=l.trigger)===null||$===void 0||$.focus(),m.preventDefault()}})})))))});function Ct(e){return e?"open":"closed"}function pe(e){return e==="indeterminate"}function Ie(e){return pe(e)?"indeterminate":e?"checked":"unchecked"}function Qo(e){const o=document.activeElement;for(const t of e)if(t===o||(t.focus(),document.activeElement!==o))return}function Wo(e,o){return e.map((t,r)=>e[(o+r)%e.length])}function Zo(e,o,t){const c=o.length>1&&Array.from(o).every(u=>u===o[0])?o[0]:o,a=t?e.indexOf(t):-1;let i=Wo(e,Math.max(a,0));c.length===1&&(i=i.filter(u=>u!==t));const d=i.find(u=>u.toLowerCase().startsWith(c.toLowerCase()));return d!==t?d:void 0}function Jo(e,o){const{x:t,y:r}=e;let c=!1;for(let a=0,i=o.length-1;a<o.length;i=a++){const l=o[a].x,d=o[a].y,u=o[i].x,m=o[i].y;d>r!=m>r&&t<(u-l)*(r-d)/(m-d)+l&&(c=!c)}return c}function er(e,o){if(!o)return!1;const t={x:e.clientX,y:e.clientY};return Jo(t,o)}function re(e){return o=>o.pointerType==="mouse"?e(o):void 0}const tr=Po,nr=mt,or=Do,rr=ko,sr=To,cr=ke,ar=Oo,ir=Ko,dr=Bo,lr=Uo,ur=Yo,fr=Xo,pr=Ho,_t="DropdownMenu",[mr,Wr]=se(_t,[ut]),P=ut(),[$r,Et]=mr(_t),br=e=>{const{__scopeDropdownMenu:o,children:t,dir:r,open:c,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,d=P(o),u=n.useRef(null),[m=!1,f]=$e({prop:c,defaultProp:a,onChange:i});return n.createElement($r,{scope:o,triggerId:ne(),triggerRef:u,contentId:ne(),open:m,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(p=>!p),[f]),modal:l},n.createElement(tr,h({},d,{open:m,onOpenChange:f,dir:r,modal:l}),t))},hr="DropdownMenuTrigger",xr=n.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...c}=e,a=Et(hr,t),i=P(t);return n.createElement(nr,h({asChild:!0},i),n.createElement(k.button,h({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},c,{ref:Ue(o,a.triggerRef),onPointerDown:g(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:g(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})))}),gr=e=>{const{__scopeDropdownMenu:o,...t}=e,r=P(o);return n.createElement(or,h({},r,t))},vr="DropdownMenuContent",wr=n.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,c=Et(vr,t),a=P(t),i=n.useRef(!1);return n.createElement(rr,h({id:c.contentId,"aria-labelledby":c.triggerId},a,r,{ref:o,onCloseAutoFocus:g(e.onCloseAutoFocus,l=>{var d;i.current||(d=c.triggerRef.current)===null||d===void 0||d.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:g(e.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,m=d.button===2||u;(!c.modal||m)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Cr=n.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,c=P(t);return n.createElement(sr,h({},c,r,{ref:o}))}),_r=n.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,c=P(t);return n.createElement(cr,h({},c,r,{ref:o}))}),Er=n.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,c=P(t);return n.createElement(ar,h({},c,r,{ref:o}))}),yr=n.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,c=P(t);return n.createElement(ir,h({},c,r,{ref:o}))}),Mr=n.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,c=P(t);return n.createElement(dr,h({},c,r,{ref:o}))}),Rr=n.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,c=P(t);return n.createElement(lr,h({},c,r,{ref:o}))}),jr=e=>{const{__scopeDropdownMenu:o,children:t,open:r,onOpenChange:c,defaultOpen:a}=e,i=P(o),[l=!1,d]=$e({prop:r,defaultProp:a,onChange:c});return n.createElement(ur,h({},i,{open:l,onOpenChange:d}),t)},Pr=n.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,c=P(t);return n.createElement(fr,h({},c,r,{ref:o}))}),Sr=n.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,c=P(t);return n.createElement(pr,h({},c,r,{ref:o,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Dr=br,Nr=xr,yt=gr,Mt=wr,Rt=Cr,jt=_r,Pt=Er,St=yr,Dt=Mr,Nt=Rr,kr=jr,kt=Pr,It=Sr,Ir=Dr,Fr=Nr,le=yt,ue=kr,ee=n.forwardRef(({className:e,inset:o,children:t,...r},c)=>s.jsxs(kt,{ref:c,className:C("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",o&&"pl-8",e),...r,children:[t,s.jsx(Qt,{className:"ml-auto h-4 w-4"})]}));ee.displayName=kt.displayName;const te=n.forwardRef(({className:e,...o},t)=>s.jsx(It,{ref:t,className:C("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o}));te.displayName=It.displayName;const Ft=n.forwardRef(({className:e,sideOffset:o=4,...t},r)=>s.jsx(yt,{children:s.jsx(Mt,{ref:r,sideOffset:o,className:C("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Ft.displayName=Mt.displayName;const Tt=n.forwardRef(({className:e,inset:o,...t},r)=>s.jsx(jt,{ref:r,className:C("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o&&"pl-8",e),...t}));Tt.displayName=jt.displayName;const Tr=n.forwardRef(({className:e,children:o,checked:t,...r},c)=>s.jsxs(Pt,{ref:c,className:C("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Dt,{children:s.jsx(Be,{className:"h-4 w-4"})})}),o]}));Tr.displayName=Pt.displayName;const Or=n.forwardRef(({className:e,children:o,...t},r)=>s.jsxs(St,{ref:r,className:C("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Dt,{children:s.jsx(Wt,{className:"h-4 w-4 fill-current"})})}),o]}));Or.displayName=St.displayName;const fe=n.forwardRef(({className:e,inset:o,...t},r)=>s.jsx(Rt,{ref:r,className:C("px-2 py-1.5 text-sm font-semibold",o&&"pl-8",e),...t}));fe.displayName=Rt.displayName;const G=n.forwardRef(({className:e,...o},t)=>s.jsx(Nt,{ref:t,className:C("-mx-1 my-1 h-px bg-muted",e),...o}));G.displayName=Nt.displayName;const Ar=({})=>{const[e,o]=M(),t=()=>{o(r=>R(r,{tatStatus:"",fromDate:"",toDate:"",distributor:"",channelPartner:"",status:"",mode:null,offset:0}))};return s.jsxs(S,{size:"sm",className:"w-full justify-between  hover:bg-red-500/10 text-red-500 hover:text-red-400",variant:"ghost",onClick:t,children:["Clear All ",s.jsx(Rn,{size:14})]})},Gr=({children:e})=>s.jsxs(Ir,{children:[s.jsx(Fr,{asChild:!0,children:e}),s.jsxs(Ft,{sideOffset:10,className:"min-w-[250px]",children:[s.jsxs(fe,{className:"flex gap-2 items-center",children:[s.jsx(Qe,{className:"w-4 h-4"}),"Filters"]}),s.jsx(G,{}),s.jsxs(ue,{children:[s.jsx(ee,{children:"Date"}),s.jsx(le,{children:s.jsxs(te,{className:"w-72",children:[s.jsx(fe,{children:"Date Range"}),s.jsx(G,{className:""}),s.jsxs("div",{className:"p-2 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium",children:"From"}),s.jsx(Le,{queryKey:"fromDate"})]}),s.jsx(G,{className:"mt-2"}),s.jsxs("div",{className:"p-2 pb-4 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium",children:"To"}),s.jsx(Le,{queryKey:"toDate"})]})]})})]},"date-filter-menu"),s.jsxs(ue,{children:[s.jsx(ee,{children:"Distributor and CP"}),s.jsx(le,{children:s.jsx(te,{className:"h-[500px] p-0 w-72 bg-transparent border-none shadow-none",children:s.jsxs("div",{className:"bg-background pb-5 p-1 w-72 rounded-md border border-input shadow-sm",children:[s.jsxs("div",{className:"p-2 space-y-2 ",children:[s.jsx("p",{className:"text-xs font-medium",children:"Distributor"}),s.jsx(Fn,{})]}),s.jsx(G,{}),s.jsxs("div",{className:"px-2 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium mt-2",children:"Channel Partner"}),s.jsx(kn,{})]})]})})})]},"distributor-filter-menu"),s.jsxs(ue,{children:[s.jsx(ee,{children:"status and mode"}),s.jsx(le,{children:s.jsxs(te,{className:"w-72",children:[s.jsxs("div",{className:"p-2 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium",children:"Status"}),s.jsx(Gn,{})]}),s.jsx(G,{}),s.jsxs("div",{className:"px-2 pb-4 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium",children:"Mode"}),s.jsx(An,{})]})]})})]},"status-filter-menu"),s.jsxs(ue,{children:[s.jsx(ee,{children:"Turn Around Time"}),s.jsx(le,{children:s.jsxs(te,{className:"p-2 w-72",children:[s.jsx(fe,{children:"TAT"}),s.jsx(G,{}),s.jsx(xo,{})]})})]},"tat-filter-menu"),s.jsx(G,{}),s.jsx(Tt,{asChild:!0,children:s.jsx(Ar,{})})]})]});function Lr(){var E,I;const[e,o]=M(),t=e.get("status"),r=e.get("limit")||"15",c=e.get("offset")||"0",a=e.get("mode"),i=e.get("fromDate"),l=e.get("toDate"),d=e.get("distributor"),u=e.get("channelPartner"),m=e.get("search"),f=e.get("tatStatus"),{data:p,isLoading:$,isFetching:b,isError:v,isSuccess:j}=Zt({status:t,limit:r,offset:c,mode:a,fromDate:i,toDate:l,channelPartner:u,distributor:d,search:m,tatStatus:f}),_=(E=p==null?void 0:p.data)==null?void 0:E.results;return n.useEffect(()=>{if(p!=null&&p.data&&p.data.limit){const{limit:F,total_results:q,offset:z}=p.data,w=Math.floor(q/F)+1;o(H=>R(H,{pages:w,limit:F,offset:z}))}},[p]),{consignments:_,total_results:((I=p==null?void 0:p.data)==null?void 0:I.total_results)||0,data:p,isLoading:$,isFetching:b,isError:v,isSuccess:j}}const Zr=({})=>{const[e,o]=M(),t=e.get("status"),{consignments:r,data:c,total_results:a,isError:i,isLoading:l,isFetching:d,isSuccess:u}=Lr(),m=async()=>{let f=window.location.origin;(f==="https://www.logiswift.in"||f==="https://logiswift.in")&&window.open(f+"/api/v1/billings/update/bulk/","_blank"),window.open("http://localhost:8000/api/v1/billings/update/bulk/","_blank")};return s.jsxs("div",{className:"relative h-full  px-2 md:px-8 mx-auto py-4 space-y-4",children:[i&&s.jsx(Dn,{}),s.jsxs("header",{className:"flex flex-col gap-5 md:flex-row w-full md:items-center md:justify-between",children:[s.jsx(Sn,{}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Gr,{children:s.jsxs(S,{size:"sm",variant:"outline",children:[s.jsx(jn,{size:15,className:"mr-2 stroke-[#FF6700]"})," ","Filter"]})}),s.jsxs(S,{size:"sm",variant:"outline",onClick:m,children:[s.jsx(un,{size:15,className:"mr-2 stroke-[#FF6700]"})," Export Bills"]}),s.jsx(cn,{})]})]}),s.jsx("main",{className:"w-full h-full",children:s.jsxs(Jt,{className:"dark:bg-[#121717] flex-1",children:[s.jsxs(en,{className:"flex md:flex-row gap-5 md:justify-between border-b",children:[s.jsxs("div",{children:[s.jsxs(tn,{className:"flex gap-2 items-center text-lg",children:[s.jsx(nn,{className:"h-5 w-5 stroke-orange-500"}),"Consignments"," ",t&&s.jsx(Ve,{status:t})]}),s.jsxs(on,{children:["Manage your consignments.",a>0&&s.jsxs("span",{className:" ml-2",children:[s.jsx("span",{className:"font-semibold",children:a})," ","results found."]})]})]}),s.jsx("div",{className:"flex-1 flex items-center gap-3  max-w-sm",children:s.jsx(fn,{placeholder:"Search LR #"})})]}),s.jsx(wo,{}),s.jsx(rn,{className:"relative p-0",children:l||d?s.jsx(dn,{columns:Ge}):s.jsx(an,{columns:Ge,data:r||[]})})]})})]})};export{Zr as default};
