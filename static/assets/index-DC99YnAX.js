import{f as N,j as e,B as h,C as v,M as w,i as C,r as g,h as p,O as R}from"./index-D3MpGbMR.js";import{u as S,T as y,a as P,b as u,c as k,f as j,d as T,e as b,g as M,h as B,i as D}from"./table-skeleton-DYmyo7_H.js";import{S as F,a as G,b as H,c as V,d as $}from"./select-C69YREwq.js";import{C as E,a as L}from"./chevrons-right-D8c0Dv2j.js";function f({table:i}){const[d,o]=N(),s=Number(d.get("limit"))||15,r=Number(d.get("offset"))||0,m=Number(d.get("pages"))||0,x=(r+s)/s<m?(r+s)/s:null,t=(r-s)/s>=0?(r-s)/s:null,n=r/s+1;console.log(t);const c=a=>{o(l=>C(l,{offset:a*s}))};return e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),e.jsxs(F,{value:`${s}`,onValueChange:a=>{o(`limit=${a}`)},children:[e.jsx(G,{className:"h-8 w-[70px]",children:e.jsx(H,{placeholder:s})}),e.jsx(V,{side:"top",children:[15,20,30,40,50].map(a=>e.jsx($,{value:`${a}`,children:a},a))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",n," of ",m]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(h,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>c(0),disabled:t===null||t<0,children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(E,{className:"h-4 w-4"})]}),e.jsxs(h,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>c(t||0),disabled:t===null||t<0,children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx(v,{className:"h-4 w-4"})]}),e.jsxs(h,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>c(x||0),disabled:!x,children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx(w,{className:"h-4 w-4"})]}),e.jsxs(h,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>c(m-1),disabled:!x,children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx(L,{className:"h-4 w-4"})]})]})]})]})}function q({columns:i,data:d,pagination:o,stickyIndex:s}){var c;const[r,m]=g.useState([]),[x,t]=g.useState([]),n=S({data:d,columns:i,getCoreRowModel:M(),onSortingChange:m,getSortedRowModel:B(),onColumnFiltersChange:t,getFilteredRowModel:D(),state:{sorting:r,columnFilters:x}});return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"max-w-full overflow-x-auto",children:e.jsxs(y,{children:[e.jsx(P,{className:"bg-muted/50 dark:bg-[#1B2222] border-b-0 h-16",children:n.getHeaderGroups().map(a=>e.jsx(u,{className:"relative",children:a.headers.map(l=>e.jsx(k,{className:p(s&&l.column.id===i[0].id&&"sticky text-left left-0 lg:pl-5  bg-muted/50 backdrop-blur-sm"),children:l.isPlaceholder?null:j(l.column.columnDef.header,l.getContext())},l.id))},a.id))}),e.jsx(T,{className:"relative",children:(c=n.getRowModel().rows)!=null&&c.length?n.getRowModel().rows.map(a=>e.jsx(u,{className:"group shadow-sm border-b-0","data-state":a.getIsSelected()&&"selected",children:a.getVisibleCells().map(l=>e.jsx(b,{className:p("dark:text-primary/80 group-hover:text-primary",s&&l.id.endsWith(i[0].id||"")&&"sticky left-0 bg-background/20 dark:bg-[#1B2222]/20 backdrop-blur"),children:j(l.column.columnDef.cell,l.getContext())},l.id))},a.id)):e.jsx(u,{children:e.jsx(b,{colSpan:i.length,className:"h-64 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(R,{}),"No results."]})})})})]})}),o!==void 0&&o===!0&&e.jsx("div",{className:"mt-5 p-2 py-4 border-t rounded-b-xl",children:e.jsx(f,{table:n})}),o===void 0&&e.jsx("div",{className:"mt-5 p-2 py-4 border-t rounded-b-xl",children:e.jsx(f,{table:n})})]})}export{q as D};
