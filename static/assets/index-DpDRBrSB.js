import{b as o,j as e,B as n,L as N,f as C,a4 as y,r as v,i as P,N as b}from"./index-D3MpGbMR.js";import{C as k,a as w,b as z,c as E,d as D}from"./index-z4fhoOdL.js";import{E as S,F,Q as A}from"./error-state-BWwSu8xR.js";import{D as K}from"./delete-modal-D66pdwQ4.js";import{P as T,T as M,C as Q}from"./trash-DejdLbjq.js";import{E as B,D as L}from"./table-skeleton-DYmyo7_H.js";import{D as R}from"./index-DC99YnAX.js";import"./alert-dialog-CM4UmgTj.js";import"./skeleton-BySlzUNx.js";import"./select-C69YREwq.js";import"./chevrons-right-D8c0Dv2j.js";function _({channelPartner:a}){const r=o(),t=()=>{r(`/channel-partners/${a.id}`)};return e.jsxs("div",{className:"group-hover:opacity-100 opacity-0 flex gap-2 transition-opacity",children:[e.jsx(n,{onClick:t,variant:"outline",size:"sm",children:e.jsx(T,{size:12,strokeWidth:2})}),e.jsx(K,{name:a.name,id:a.id,children:e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(M,{className:"stroke-rose-500",size:16,strokeWidth:2})})})]})}const c=[{accessorKey:"name",id:"name",header:"Name",cell:({cell:a,row:r})=>{const t=a.getValue(),i=r.original.id;return e.jsx(N,{to:`/channel-partners/${i}`,children:e.jsx("p",{className:"group-hover:text-blue-500 font-medium text-primary/90 transition-colors flex items-center justify-between gap-2 ml-2",children:t})})}},{accessorKey:"address",header:"Address"},{accessorKey:"odaCharge",header:"ODA Charge"},{accessorKey:"fixedCharge",header:"Fixed Charge"},{accessorKey:"miscCharge",header:"Misc. Charge"},{id:"actions",header:()=>e.jsx(B,{size:15,className:""}),cell:({row:a,table:r})=>e.jsx(_,{channelPartner:a.original})}],I=({label:a,path:r})=>{const t=o(),i=()=>t(r);return e.jsxs(n,{onClick:i,size:"sm",variant:"orange",className:"capitalize",children:[e.jsx(Q,{size:15,className:"mr-2"})," ",a]})},ee=({})=>{const[a,r]=C(),t=a.get("limit")||"15",i=a.get("offset")||"0",d=a.get("search"),{data:s,isLoading:m,isFetching:h,isError:x,isSuccess:W}=y({limit:t,offset:i,search:d}),f=s==null?void 0:s.data.results;return v.useEffect(()=>{if(s!=null&&s.data&&s.data.limit){const{limit:l,total_results:p,offset:u}=s.data,j=Math.floor(p/l)+1;r(g=>P(g,{pages:j,limit:l,offset:u}))}},[s]),e.jsxs("div",{className:"relative h-full px-2 md:px-8 mx-auto py-4 space-y-4",children:[x&&e.jsx(S,{message:"Error fetching Channel Partners"}),e.jsxs("header",{className:"flex flex-col gap-5 md:flex-row w-full md:items-center md:justify-between",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{size:"sm",variant:"outline",children:[e.jsx(F,{size:15,className:"mr-2 stroke-[#FF6700]"})," Import"]}),e.jsx(I,{label:"Add Channel Partner",path:"/channel-partners/add"})]})]}),e.jsx("main",{className:"w-full h-full",children:e.jsxs(k,{className:"dark:bg-[#121717]",children:[e.jsxs(w,{className:"flex md:flex-row gap-5 md:justify-between ",children:[e.jsxs("div",{children:[e.jsxs(z,{className:"flex gap-2 items-center text-lg",children:[e.jsx(b,{className:"h-5 w-5 stroke-orange-500"}),"Channel Partners"]}),e.jsxs(E,{children:["Manage channel partners.",(s==null?void 0:s.data)&&s.data.total_results>0&&e.jsxs("span",{className:" ml-2",children:[e.jsx("span",{className:"font-semibold",children:s.data.total_results})," ","results found."]})]})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-3 max-w-sm",children:e.jsx(A,{placeholder:"Search channel partner"})})]}),e.jsx(D,{className:"relative p-0",children:m||h?e.jsx(L,{columns:c}):e.jsx(R,{columns:c,data:f||[],stickyIndex:!0})})]})})]})};export{ee as default};
